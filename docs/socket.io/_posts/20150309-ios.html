

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Socket.IO on iOS &mdash; WebSockets Docs v2019.0613 文档</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/translations.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="Socket.IO 1.3.5" href="20150303-1.3.5.html" />
    <link rel="prev" title="Socket.IO C++" href="20150413-socket-io-cpp.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../contents.html" class="icon icon-home"> WebSockets Docs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">WebSockets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">API documention</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../awesome.html">Awesome WebSockets</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">socket.io 文档</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../get-started.html">聊天 - 入门</a></li>
<li class="toctree-l2"><a class="reference internal" href="../docs/index.html">文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../client-api/index.html">客户端 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../server-api/index.html">服务端API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../demos/index.html">演示</a></li>
<li class="toctree-l2"><a class="reference internal" href="../socket.io-protocol.html">socket.io-protocol</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">发布历史记录</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="20170624-2.0.x.html">Socket.IO 2.0.1, 2.0.2 and 2.0.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="20170515-open-collective.html">Socket.IO is on Open Collective</a></li>
<li class="toctree-l3"><a class="reference internal" href="20170513-2-0-0.html">Socket.IO 2.0.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="20160127-1.4.5.html">Socket.IO 1.4.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="20160111-1.4.4.html">Socket.IO 1.4.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="20160108-1.4.x.html">Socket.IO 1.4.1, 1.4.2 and 1.4.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="20160106-1.4.0.html">Socket.IO 1.4.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="20150921-1.3.7.html">Socket.IO 1.3.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="20150715-1.3.6.html">Socket.IO 1.3.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="20150714-p2p.html">Socket.IO P2P</a></li>
<li class="toctree-l3"><a class="reference internal" href="20150413-socket-io-cpp.html">Socket.IO C++</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Socket.IO on iOS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-the-project">Setting up the Project</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="20150303-1.3.5.html">Socket.IO 1.3.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="20150214-1.3.4.html">Socket.IO 1.3.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="20150204-1.3.3.html">Socket.IO 1.3.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="20150120-native-socket-io-and-android.html">Native Socket.IO and Android</a></li>
<li class="toctree-l3"><a class="reference internal" href="20140528-1.0.0.html">Introducing Socket.IO 1.0</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../socket-io-with-apache-cordova.html">Socket.IO — Apache Cordova</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ws/index.html">ws documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../contents.html">WebSockets Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../contents.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">socket.io 文档</a> &raquo;</li>
        
          <li><a href="index.html">发布历史记录</a> &raquo;</li>
        
      <li>Socket.IO on iOS</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/socket.io/_posts/20150309-ios.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="socket-io-on-ios">
<h1>Socket.IO on iOS<a class="headerlink" href="#socket-io-on-ios" title="永久链接至标题">¶</a></h1>
<video class="gfyVidIframe" id="gfyVid" autoplay="" loop="" style="-webkit-backface-visibility: hidden;-webkit-transform: scale(1);" height="574" width="323"><source id="webmsource" src="//fat.gfycat.com/EssentialBlueElectriceel.webm" type="video/webm"><source id="mp4source" src="//giant.gfycat.com/EssentialBlueElectriceel.mp4" type="video/mp4"></video><p>We are pleased to announce the immediate availability of the Socket.IO
Swift Client! Youll now be able to write code that runs natively on
<strong>iOS</strong> and <strong>OSX</strong>, while maintaining the simplicity and expressiveness
of the JavaScript client!</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kd">import</span> <span class="nc">Foundation</span>
<span class="kd">let</span> <span class="nv">socket</span> <span class="p">=</span> <span class="n">SocketIOClient</span><span class="p">(</span><span class="n">socketURL</span><span class="p">:</span> <span class="s">&quot;localhost:8880&quot;</span><span class="p">)</span>
<span class="n">socket</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">&quot;important message&quot;</span><span class="p">)</span> <span class="p">{</span><span class="n">data</span><span class="p">,</span> <span class="n">ack</span> <span class="k">in</span>
    <span class="bp">println</span><span class="p">(</span><span class="s">&quot;Message for you! </span><span class="si">\(</span><span class="n">data</span><span class="p">?[</span><span class="mi">0</span><span class="p">]</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="n">ack</span><span class="p">?(</span><span class="s">&quot;I got your message, and I&#39;ll send my response&quot;</span><span class="p">)</span>
    <span class="n">socket</span><span class="p">.</span><span class="n">emit</span><span class="p">(</span><span class="s">&quot;response&quot;</span><span class="p">,</span> <span class="s">&quot;Hello!&quot;</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">socket</span><span class="p">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
<p>To show how you can use it in a real project, Ill show you how to create
a small Tic Tac Toe app like the one shown above.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="永久链接至标题">¶</a></h2>
<p>In this tutorial well look at creating a small iOS app that demonstrates
socket.io and iOS. If you learn better from looking at code you can look
at it here. The point of the tutorial is not to explain developing an
iOS app, but to demonstrate how you can incorporate
<code class="docutils literal notranslate"><span class="pre">socket.io-client-swift</span></code> into your projects! So it is assumed you have
a basic knowledge of XCode. Note: This example uses Swift 1.2. However,
1.2 isnt much different from Swift 1.1, and the library has branches for
Swift 1.1 and 1.2. The only difference in this guide is I use 1.2s
expanded <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">let</span></code> construct to avoid nesting. Note 2: While this
library is written in, and meant for, Swift applications, it can be used
with Objective-C projects, but will require some extra work (youll
probably need to create a Swift class that can interface with your
Objective-C code, as not all methods in the client will be available to
Objective-C i.e emit, onAny). See this for more information.</p>
</div>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="永久链接至标题">¶</a></h2>
<p>I designed <code class="docutils literal notranslate"><span class="pre">socket.io-client-swift</span></code> to be as close to
<code class="docutils literal notranslate"><span class="pre">socket.io-client</span></code> as I could. So many of the ways you do things in
socket.io-client look similar here! This is not a step-by-step tutorial
for making a Tic Tac Toe app, only adding the socket.io-client part of
it.</p>
</div>
<div class="section" id="setting-up-the-project">
<h2>Setting up the Project<a class="headerlink" href="#setting-up-the-project" title="永久链接至标题">¶</a></h2>
<p>From Xcode, create a new project with the layout of single-view iOS
application. You can name it whatever you like, Ill be naming mine
<code class="docutils literal notranslate"><span class="pre">TicTacIOiOS</span></code>. The next step is getting the code for
<code class="docutils literal notranslate"><span class="pre">socket.io-client-swift</span></code>, you can either use <code class="docutils literal notranslate"><span class="pre">git</span></code> to clone the repo
to a directory, or simply download a release. Either way you get it, the
process of adding it to your project is the same. Simply drag the folder
named SwiftIO to the same place you copied SocketRocket! (Again making
sure you select copy.) And thats it, the hardest part of putting our app
together is done! At this point, if you want to test that its setup
properly, try building and running the app, it should compile.</p>
<div class="section" id="adding-our-code">
<h3>Adding Our Code<a class="headerlink" href="#adding-our-code" title="永久链接至标题">¶</a></h3>
<p>Now, assuming youve created your user interface. Its time to add the
code that will interface with our socket.io server! In our demo
application we have one UIViewController subclass, named ViewController.
All of our code will be added there. First, we need to add a member
named <code class="docutils literal notranslate"><span class="pre">socket</span></code> of type <code class="docutils literal notranslate"><span class="pre">SocketIOClient</span></code> to our ViewController.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nv">socket</span> <span class="p">=</span> <span class="n">SocketIOClient</span><span class="p">(</span><span class="n">socketURL</span><span class="p">:</span> <span class="s">&quot;localhost:8900&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, in our overridden <code class="docutils literal notranslate"><span class="pre">viewDidLoad</span></code> method we want to add two things,
a method call that will add our handlers to our socket, and a call to
connect our socket.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kc">self</span><span class="p">.</span><span class="n">addHandlers</span><span class="p">()</span>
<span class="kc">self</span><span class="p">.</span><span class="n">socket</span><span class="p">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="handlers">
<h3>Handlers<a class="headerlink" href="#handlers" title="永久链接至标题">¶</a></h3>
<p>Now that we have our method calls, its time to implement the method that
adds the handlers!</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kd">func</span> <span class="nf">addHandlers</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Our socket handlers go here</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Since were about to add the handlers, I think its worth mentioning the
syntax I use for closures in Swift. Swift has many different ways of
expressing closures, and they can be found here. But the form I use for
adding handlers is a trailing closure, without explicit type
annotations. You can use other closure forms if you wish. Im not going
to show you all the handlers in our demo app here, just a few that
demonstrate important things youll need to know when working with
<code class="docutils literal notranslate"><span class="pre">socket.io-client-swift</span></code>. The first handler were going to add is one
that will be called on any event, since its useful for debugging the
API.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="c1">// Using a shorthand parameter name for closures</span>
<span class="kc">self</span><span class="p">.</span><span class="n">socket</span><span class="p">.</span><span class="n">onAny</span> <span class="p">{</span><span class="bp">println</span><span class="p">(</span><span class="s">&quot;Got event: </span><span class="si">\(</span><span class="nv">$0</span><span class="p">.</span><span class="n">event</span><span class="si">)</span><span class="s">, with items: </span><span class="si">\(</span><span class="nv">$0</span><span class="p">.</span><span class="n">items</span><span class="si">)</span><span class="s">&quot;</span><span class="p">)}</span>
</pre></div>
</div>
<p>The next handler that well add is the one that tells the app that the
game has started.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kc">self</span><span class="p">.</span><span class="n">socket</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">&quot;startGame&quot;</span><span class="p">)</span> <span class="p">{[</span><span class="kr">weak</span> <span class="kc">self</span><span class="p">]</span> <span class="n">data</span><span class="p">,</span> <span class="n">ack</span> <span class="k">in</span>
    <span class="kc">self</span><span class="p">?.</span><span class="n">handleStart</span><span class="p">()</span>
    <span class="k">return</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now to explain some things. <code class="docutils literal notranslate"><span class="pre">[weak</span> <span class="pre">self]</span></code> is a capture list. It tells
the compiler that the reference to self in this closure should not add
to the reference count of self. This is so when the socket object goes
out of scope, the capture made in the closure doesnt keep it from being
deallocated. The first parameter in all <code class="docutils literal notranslate"><span class="pre">.on</span></code> callbacks is an optional
NSArray, it will contain all the data received with the event, or nil.
The second parameter in the callback is an optional with the type of
AckEmitter. AckEmitter is simply a typealias of
<code class="docutils literal notranslate"><span class="pre">(AnyObject...)</span> <span class="pre">-&amp;gt;</span> <span class="pre">Void</span></code>. Well see this used later. The next
handler well add is the one for a win.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kc">self</span><span class="p">.</span><span class="n">socket</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">&quot;win&quot;</span><span class="p">)</span> <span class="p">{[</span><span class="kr">weak</span> <span class="kc">self</span><span class="p">]</span> <span class="n">data</span><span class="p">,</span> <span class="n">ack</span> <span class="k">in</span>
    <span class="k">if</span> <span class="kd">let</span> <span class="nv">name</span> <span class="p">=</span> <span class="n">data</span><span class="p">?[</span><span class="mi">0</span><span class="p">]</span> <span class="k">as</span><span class="p">?</span> <span class="nb">String</span><span class="p">,</span> <span class="n">typeDict</span> <span class="p">=</span> <span class="n">data</span><span class="p">?[</span><span class="mi">1</span><span class="p">]</span> <span class="k">as</span><span class="p">?</span> <span class="bp">NSDictionary</span> <span class="p">{</span>
        <span class="kc">self</span><span class="p">?.</span><span class="n">handleWin</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">type</span><span class="p">:</span> <span class="n">typeDict</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As mentioned before, this is new syntax for <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">let</span></code> introduced in
Swift 1.2. It simplifies optional unwrapping (pyramid of doom). The
important thing to gather from this handler is that you do not need to
force unwrap the array to get the object. Also note that a JSON object
will be exposed to Swift as an NSDictionary. Another thing to note is
that for almost all your handlers that have data, youll be doing some
kind of optional unwrapping and type casting. This is an unfortunate
consequence of working with JavaScript. The final handler that Ill
demonstrate here is the one that handles whether the player wants to
play again.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kc">self</span><span class="p">.</span><span class="n">socket</span><span class="p">.</span><span class="n">on</span><span class="p">(</span><span class="s">&quot;gameReset&quot;</span><span class="p">)</span> <span class="p">{</span><span class="n">data</span><span class="p">,</span> <span class="n">ack</span> <span class="k">in</span>
    <span class="n">ack</span><span class="p">?(</span><span class="kc">false</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this simplified example, we simply send an acknowledgement to the
server that we dont ever want to play again. Remember that AckEmitter
has a variadic definition, so you can send multiple things at once if
you wanted.</p>
</div>
<div class="section" id="emitting-events">
<h3>Emitting Events<a class="headerlink" href="#emitting-events" title="永久链接至标题">¶</a></h3>
<p>The next thing you’ll probably want to know is how to send events from
the client. Youll be pleased to know that it has a form almost exactly
the same as socket.io-client! In our ViewController we have a method
that handles when a user wants to make a move. Without going into the
logic of that, well show how we send the data to the server.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kr">@IBAction</span> <span class="kd">func</span> <span class="nf">btnClicked</span><span class="p">(</span><span class="n">btn</span><span class="p">:</span><span class="bp">UIButton</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nv">coord</span><span class="p">:(</span><span class="n">x</span><span class="p">:</span><span class="nb">Int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="nb">Int</span><span class="p">)</span>

    <span class="c1">// Long switch statement that determines what coord should be</span>

    <span class="kc">self</span><span class="p">.</span><span class="n">socket</span><span class="p">.</span><span class="n">emit</span><span class="p">(</span><span class="s">&quot;playerMove&quot;</span><span class="p">,</span> <span class="n">coord</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">coord</span><span class="p">.</span><span class="n">y</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Thats all you need to do for sending data! Some other examples of
sending which arent covered in our demo are:</p>
</div>
<div class="section" id="sending-json">
<h3>Sending JSON<a class="headerlink" href="#sending-json" title="永久链接至标题">¶</a></h3>
<p>As mentioned before, JSON in Swift is best represent as a Dictionary.
Thankfully for you, you dont need to worry about turning it into
something socket.io will understand, thats all done under-the-hood.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nv">myJSON</span> <span class="p">=</span> <span class="p">[</span>
    <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;bob&quot;</span>
<span class="p">]</span>

<span class="n">socket</span><span class="p">.</span><span class="n">emit</span><span class="p">(</span><span class="s">&quot;jsonTest&quot;</span><span class="p">,</span> <span class="n">myJSON</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="sending-binary">
<h3>Sending Binary<a class="headerlink" href="#sending-binary" title="永久链接至标题">¶</a></h3>
<p>Binary data is also handled by the client, so you dont need to worry
about it.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="kd">let</span> <span class="nv">data</span> <span class="p">=</span> <span class="s">&quot;Hello, &quot;</span><span class="p">.</span><span class="n">dataUsingEncoding</span><span class="p">(</span><span class="n">NSUTF8StringEncoding</span><span class="p">,</span> <span class="n">allowLossyConversion</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span><span class="o">!</span>
<span class="kd">let</span> <span class="nv">data2</span> <span class="p">=</span> <span class="s">&quot;World&quot;</span><span class="p">.</span><span class="n">dataUsingEncoding</span><span class="p">(</span><span class="n">NSUTF8StringEncoding</span><span class="p">,</span> <span class="n">allowLossyConversion</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span><span class="o">!</span>

<span class="n">socket</span><span class="p">.</span><span class="n">emit</span><span class="p">(</span><span class="s">&quot;dataTest&quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;world&quot;</span><span class="p">:</span> <span class="n">data2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="requesting-acks">
<h3>Requesting Acks<a class="headerlink" href="#requesting-acks" title="永久链接至标题">¶</a></h3>
<p>The client can also request that the server send an ack for an event.
This is done by using the <code class="docutils literal notranslate"><span class="pre">emitWithAck</span></code> method which returns an object
to which you can add a handler.</p>
<div class="highlight-swift notranslate"><div class="highlight"><pre><span></span><span class="n">socket</span><span class="p">.</span><span class="n">emitWithAck</span><span class="p">(</span><span class="s">&quot;needsAck&quot;</span><span class="p">,</span> <span class="s">&quot;test&quot;</span><span class="p">).</span><span class="n">onAck</span> <span class="p">{</span><span class="n">data</span> <span class="k">in</span>
    <span class="bp">println</span><span class="p">(</span><span class="s">&quot;got ack with data: (data)&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="a-note-about-multitasking-in-ios">
<h3>A Note About Multitasking in iOS<a class="headerlink" href="#a-note-about-multitasking-in-ios" title="永久链接至标题">¶</a></h3>
<p>As you probably know, iOS is very picky about what you can do in the
background. As such, dont expect that your socket connection will
survive in the background! Youll probably stop receiving events within
seconds of the app going into the background. So its better to create a
task that will gracefully close the connection when it enters the
background (via AppDelegate), and then reconnect the socket when the app
comes back into the foreground. If you want to learn more about the
client, check out the README! We also invite you to contribute by
submitting issues, patches, documentation and examples.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="20150303-1.3.5.html" class="btn btn-neutral float-right" title="Socket.IO 1.3.5" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="20150413-socket-io-cpp.html" class="btn btn-neutral float-left" title="Socket.IO C++" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, BandCap

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>